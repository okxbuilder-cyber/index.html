<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crypto Insight - å¸‚åœºæƒ…æŠ¥ç»ˆç«¯</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
        body { 
            background-color: #0b0e11; 
            color: #eaecef; 
            font-family: 'Inter', sans-serif; 
        }
        .card-bg { background-color: #1e2329; }
        .hover-card:hover { background-color: #2b3139; }
        .scrollbar-custom::-webkit-scrollbar { width: 6px; }
        .scrollbar-custom::-webkit-scrollbar-track { background: #0b0e11; }
        .scrollbar-custom::-webkit-scrollbar-thumb { background: #474d57; border-radius: 3px; }
        /* è·‘é©¬ç¯åŠ¨ç”» */
        .marquee-container { overflow: hidden; white-space: nowrap; }
        .marquee-content { display: inline-block; animation: marquee 20s linear infinite; }
        @keyframes marquee { 0% { transform: translateX(100%); } 100% { transform: translateX(-100%); } }
    </style>
</head>
<body class="min-h-screen flex flex-col">

    <div class="bg-[#171a1e] border-b border-gray-800 h-10 flex items-center overflow-hidden">
        <div class="marquee-container w-full">
            <div id="price-ticker" class="marquee-content text-sm font-mono flex space-x-8 px-4">
                <span class="text-gray-400">æ­£åœ¨è¿æ¥ CoinGecko è¡Œæƒ…æ•°æ®...</span>
            </div>
        </div>
    </div>

    <header class="p-6 border-b border-gray-800 flex justify-between items-center bg-[#0b0e11] sticky top-0 z-50">
        <div class="flex items-center space-x-3">
            <div class="w-8 h-8 bg-yellow-500 rounded-full flex items-center justify-center font-bold text-black">â‚¿</div>
            <h1 class="text-2xl font-bold tracking-tight">Crypto Insight <span class="text-gray-500 text-sm font-normal">| æƒ…æŠ¥ç›‘æ§</span></h1>
        </div>
        <div class="flex items-center space-x-4">
            <span class="text-xs text-gray-500" id="last-updated">ç­‰å¾…æ›´æ–°...</span>
            <button onclick="fetchAllData()" class="bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg text-sm font-semibold transition shadow-lg shadow-blue-900/20">
                ğŸ”„ åˆ·æ–°å…¨ç½‘æ•°æ®
            </button>
        </div>
    </header>

    <main class="flex-1 p-6 grid grid-cols-1 lg:grid-cols-12 gap-6">

        <div class="lg:col-span-4 flex flex-col space-y-4">
            <div class="flex items-center justify-between">
                <h2 class="text-lg font-bold text-yellow-500 flex items-center">ğŸ”¥ æœ¬å‘¨çƒ­é—¨å™äº‹ (Trends)</h2>
                <span class="text-xs bg-gray-800 px-2 py-1 rounded text-gray-400">è¿‘7å¤©</span>
            </div>
            <div class="card-bg rounded-xl border border-gray-800 shadow-xl flex-1 overflow-hidden flex flex-col">
                <div id="news-feed" class="overflow-y-auto scrollbar-custom p-4 space-y-4 h-[600px]">
                    </div>
            </div>
        </div>

        <div class="lg:col-span-5 flex flex-col space-y-4">
            <div class="flex items-center justify-between">
                <h2 class="text-lg font-bold text-blue-400 flex items-center">ğŸ¦ äº¤æ˜“æ‰€é›·è¾¾ (Exchange Radar)</h2>
                <div class="flex space-x-1">
                    <button onclick="filterEx('all')" class="text-xs px-2 py-1 bg-gray-700 hover:bg-gray-600 rounded">All</button>
                    <button onclick="filterEx('Binance')" class="text-xs px-2 py-1 bg-[#F0B90B] text-black rounded font-bold">Binance</button>
                    <button onclick="filterEx('OKX')" class="text-xs px-2 py-1 bg-black border border-gray-600 rounded">OKX</button>
                </div>
            </div>
            <div class="card-bg rounded-xl border border-gray-800 shadow-xl flex-1 overflow-hidden flex flex-col">
                <div id="exchange-feed" class="overflow-y-auto scrollbar-custom p-4 space-y-0 h-[600px]">
                    </div>
            </div>
        </div>

        <div class="lg:col-span-3 flex flex-col space-y-4">
            <h2 class="text-lg font-bold text-purple-400 flex items-center">ğŸ§  Smart Money / KOL</h2>
            <div class="card-bg rounded-xl border border-gray-800 shadow-xl flex-1 overflow-hidden flex flex-col">
                <div id="kol-feed" class="overflow-y-auto scrollbar-custom p-4 space-y-4 h-[600px]">
                    </div>
            </div>
        </div>

    </main>

    <footer class="p-6 border-t border-gray-800 text-center text-gray-600 text-sm">
        <p>æ•°æ®æ¥æº: CoinGecko API (Price) / æ¨¡æ‹Ÿæ•°æ® (News/KOL)</p>
        <p class="mt-1">æ³¨æ„ï¼šæœ¬é¡µé¢ä¸ºæœ¬åœ°ç›‘æ§é¢æ¿ï¼Œä¸æ„æˆæŠ•èµ„å»ºè®®ã€‚</p>
    </footer>

    <script>
        // --- 1. çœŸå®æ•°æ®è·å–ï¼šCoinGecko ä»·æ ¼ ---
        async function fetchPrices() {
            const ticker = document.getElementById('price-ticker');
            try {
                // è¯·æ±‚ CoinGecko API (å…è´¹å…¬å¼€æ¥å£)
                const response = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,ethereum,solana,binancecoin,ripple,dogecoin&vs_currencies=usd&include_24hr_change=true');
                const data = await response.json();
                
                let html = '';
                const coins = [
                    {id: 'bitcoin', symbol: 'BTC'},
                    {id: 'ethereum', symbol: 'ETH'},
                    {id: 'solana', symbol: 'SOL'},
                    {id: 'binancecoin', symbol: 'BNB'}
                ];

                coins.forEach(coin => {
                    const info = data[coin.id];
                    const price = info.usd;
                    const change = info.usd_24h_change.toFixed(2);
                    const color = change >= 0 ? 'text-green-400' : 'text-red-400';
                    const arrow = change >= 0 ? 'â–²' : 'â–¼';
                    
                    html += `
                        <span class="font-bold text-white">${coin.symbol}</span>
                        <span class="text-gray-300">$${price.toLocaleString()}</span>
                        <span class="${color} text-xs">${arrow} ${change}%</span>
                        <span class="text-gray-600 mx-2">|</span>
                    `;
                });
                
                ticker.innerHTML = html;
            } catch (error) {
                ticker.innerHTML = '<span class="text-red-400">æ— æ³•è¿æ¥è¡Œæƒ… API (å¯èƒ½ç”±äºè¯·æ±‚é¢‘ç‡é™åˆ¶)</span>';
                console.error("Price fetch error:", error);
            }
        }

        // --- 2. æ¨¡æ‹Ÿæ•°æ® (æ–°é—»/äº¤æ˜“æ‰€/KOL) ---
        // è¯´æ˜ï¼šç”±äºè·å–äº¤æ˜“æ‰€å…¬å‘Šå’Œæ¨ç‰¹éœ€è¦å¤æ‚çš„åç«¯API Keyï¼Œè¿™é‡Œå±•ç¤ºçš„æ˜¯æå…¶é€¼çœŸçš„æ¨¡æ‹Ÿç»“æ„ã€‚
        
        const newsData = [
            { title: "ç¾å›½ SEC å†æ¬¡æ¨è¿Ÿä»¥å¤ªåŠ ETF å†³è®®", time: "2å°æ—¶å‰", tag: "æ”¿ç­–", sentiment: "negative" },
            { title: "è´è±å¾· BUIDL åŸºé‡‘ä¸€å‘¨å†…å¸ç­¹ 2.5 äº¿ç¾å…ƒ", time: "4å°æ—¶å‰", tag: "æœºæ„", sentiment: "positive" },
            { title: "Base é“¾æ—¥æ´»è·ƒç”¨æˆ·æ•°è¶…è¶Š Arbitrum", time: "6å°æ—¶å‰", tag: "L2æ•°æ®", sentiment: "positive" },
            { title: "Tether åœ¨æ³¢åœºé“¾å¢å‘ 10 äº¿æš USDT", time: "12å°æ—¶å‰", tag: "èµ„é‡‘æµ", sentiment: "neutral" },
            { title: "æŸæ—©æœŸå·¨é²¸å‘å¸å®‰è½¬å…¥ 5000 ETH", time: "1å¤©å‰", tag: "é“¾ä¸Šç›‘æ§", sentiment: "negative" },
            { title: "Vitalik å‘å¸ƒå…³äºè´¦æˆ·æŠ½è±¡çš„æ–°ææ¡ˆ", time: "1å¤©å‰", tag: "æŠ€æœ¯", sentiment: "neutral" }
        ];

        const exchangeData = [
            { ex: 'Binance', title: 'Binance æ–°å¸æŒ–çŸ¿ä¸Šçº¿ç¬¬ 50 æœŸé¡¹ç›® Ethena (ENA)', type: 'Launchpool', time: '30åˆ†é’Ÿå‰' },
            { ex: 'OKX', title: 'OKX å…³äºæ”¯æŒ Fetch.ai (FET) ç­‰ä»£å¸åˆå¹¶çš„å…¬å‘Š', type: 'å¸ç§åˆå¹¶', time: '1å°æ—¶å‰' },
            { ex: 'Bybit', title: 'Bybit ç°è´§ä¸Šçº¿ W (Wormhole)', type: 'ä¸Šæ–°', time: '2å°æ—¶å‰' },
            { ex: 'Binance', title: 'å…³äºç§»é™¤éƒ¨åˆ† BTC/TUSD ç°è´§äº¤æ˜“å¯¹çš„é€šçŸ¥', type: 'ä¸‹æ¶', time: '5å°æ—¶å‰' },
            { ex: 'Upbit', title: 'æš‚åœ SOL å……ææœåŠ¡çš„ç»´æŠ¤é€šçŸ¥', type: 'ç»´æŠ¤', time: '6å°æ—¶å‰' },
            { ex: 'Coinbase', title: 'å°† Dogwifhat (WIF) åˆ—å…¥ä¸Šå¸è·¯çº¿å›¾', type: 'è§‚å¯Ÿ', time: '10å°æ—¶å‰' }
        ];

        const kolData = [
            { user: 'Haseeb', handle: '@hosseeb', text: 'Meme å¸è¶…çº§å‘¨æœŸå®é™…ä¸Šæ˜¯å¯¹ VC ä»£å¸é«˜ä¼°å€¼çš„åæŠ—ã€‚', time: '1h' },
            { user: 'Arthur Hayes', handle: '@CryptoHayes', text: 'ä¸ç®¡ç¾è”å‚¨æ€ä¹ˆè¯´ï¼ŒæµåŠ¨æ€§æœ€ç»ˆä¼šæµå‘æ¯”ç‰¹å¸ã€‚ä¿æŒè€å¿ƒã€‚', time: '3h' },
            { user: 'Will Clemente', handle: '@WClementeIII', text: 'çœ‹åˆ°å¾ˆå¤šè€éŸ­èœåœ¨è¿™ä¸ªä½ç½®ä¸‹è½¦äº†ï¼Œä½†æˆ‘è®¤ä¸º ETF çš„èµ„é‡‘æµå…¥è¿˜æ²¡ç»“æŸã€‚', time: '5h' },
            { user: 'ZachXBT', handle: '@zachxbt', text: 'è­¦å‘Šï¼šå¦‚æœä½ æ”¶åˆ°å…³äº $BLAST ç©ºæŠ•çš„ç§ä¿¡ï¼Œé‚£æ˜¯é’“é±¼è¯ˆéª—ã€‚', time: '8h' }
        ];

        // --- 3. æ¸²æŸ“å‡½æ•° ---

        function renderNews() {
            const container = document.getElementById('news-feed');
            container.innerHTML = newsData.map(item => `
                <div class="hover-card p-3 rounded-lg cursor-pointer border-l-2 ${item.sentiment === 'positive' ? 'border-green-500' : (item.sentiment === 'negative' ? 'border-red-500' : 'border-gray-500')}">
                    <h3 class="text-sm font-medium text-gray-200 mb-1 leading-snug">${item.title}</h3>
                    <div class="flex justify-between items-center text-xs">
                        <span class="text-blue-400 bg-blue-900/30 px-1.5 py-0.5 rounded">${item.tag}</span>
                        <span class="text-gray-500">${item.time}</span>
                    </div>
                </div>
            `).join('');
        }

        function renderExchange(filter = 'all') {
            const container = document.getElementById('exchange-feed');
            const data = filter === 'all' ? exchangeData : exchangeData.filter(d => d.ex === filter);
            
            container.innerHTML = data.map(item => {
                let colorClass = 'text-gray-400';
                if(item.ex === 'Binance') colorClass = 'text-[#F0B90B]';
                if(item.ex === 'OKX') colorClass = 'text-white';
                
                return `
                <div class="py-3 border-b border-gray-800 last:border-0 hover-card px-2 transition">
                    <div class="flex items-center mb-1">
                        <span class="font-bold text-xs ${colorClass} w-16">${item.ex}</span>
                        <span class="text-xs bg-gray-700 text-gray-300 px-1 rounded ml-2 scale-90 origin-left">${item.type}</span>
                        <span class="text-xs text-gray-600 ml-auto">${item.time}</span>
                    </div>
                    <p class="text-sm text-gray-300 pl-0">${item.title}</p>
                </div>
            `}).join('');
        }

        function renderKOL() {
            const container = document.getElementById('kol-feed');
            container.innerHTML = kolData.map(item => `
                <div class="bg-[#161b22] p-4 rounded-xl border border-gray-800">
                    <div class="flex items-center justify-between mb-2">
                        <div class="flex items-center space-x-2">
                            <div class="w-8 h-8 bg-gradient-to-tr from-purple-500 to-blue-500 rounded-full"></div>
                            <div>
                                <div class="text-xs font-bold text-white">${item.user}</div>
                                <div class="text-[10px] text-gray-500">${item.handle}</div>
                            </div>
                        </div>
                        <span class="text-xs text-gray-600">${item.time}</span>
                    </div>
                    <p class="text-xs text-gray-300 leading-relaxed">${item.text}</p>
                </div>
            `).join('');
        }

        // --- 4. åˆå§‹åŒ– ---
        function filterEx(ex) { renderExchange(ex); }
        
        function fetchAllData() {
            document.getElementById('last-updated').innerText = 'æ›´æ–°ä¸­...';
            // æ¨¡æ‹ŸåŠ è½½å»¶è¿Ÿ
            setTimeout(() => {
                fetchPrices(); // åªæœ‰è¿™ä¸ªæ˜¯çœŸå®çš„ API è¯·æ±‚
                renderNews();
                renderExchange();
                renderKOL();
                const now = new Date();
                document.getElementById('last-updated').innerText = `å·²æ›´æ–°: ${now.getHours()}:${now.getMinutes().toString().padStart(2, '0')}`;
            }, 800);
        }

        window.onload = fetchAllData;
        // æ¯60ç§’è‡ªåŠ¨åˆ·æ–°ä»·æ ¼
        setInterval(fetchPrices, 60000);

    </script>
</body>
</html>
